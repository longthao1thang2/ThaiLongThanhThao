<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Long ‚ù§Ô∏è Th·∫£o - Th·∫ø Gi·ªõi Ri√™ng</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Quicksand:wght@400;500;600;700&family=Pacifico&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-pink: #ff4b72;
            --secondary-pink: #ff7eb3;
            --bg-gradient: linear-gradient(135deg, #fff0f5 0%, #ffe4e1 50%, #ffd1dc 100%);
            --text-dark: #4a4a4a;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-dark);
            overflow-x: hidden;
            scroll-behavior: smooth;
            cursor: pointer;
            min-height: 100vh;
        }

        .font-romantic { font-family: 'Dancing Script', cursive; }
        .font-cute { font-family: 'Pacifico', cursive; }

        /* Glassmorphism */
        .glass-panel {
            background: rgba(255, 255, 255, 0.55);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 32px 0 rgba(255, 117, 140, 0.2);
        }

        /* Animations */
        .pulse-heart {
            animation: heartbeat 1.2s infinite;
            display: inline-block;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.3); }
            28% { transform: scale(1); }
            42% { transform: scale(1.3); }
            70% { transform: scale(1); }
        }

        /* Connecting Loading Animation */
        .connecting-pulse {
            animation: connectPulse 2s infinite ease-in-out;
        }
        @keyframes connectPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; filter: drop-shadow(0 0 20px #ff4b72); }
            50% { transform: scale(1.5); opacity: 1; filter: drop-shadow(0 0 50px #ff4b72); }
        }
        .text-blink {
            animation: textBlink 1.5s infinite;
        }
        @keyframes textBlink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Floating Background (Hearts & Fireflies) */
        .floating-item {
            position: fixed;
            bottom: -10vh;
            animation: floatUp linear infinite;
            opacity: 0;
            z-index: 0;
            pointer-events: none;
        }
        .firefly {
            width: 6px;
            height: 6px;
            background-color: #ffeb3b;
            border-radius: 50%;
            box-shadow: 0 0 10px #ffeb3b, 0 0 20px #ffeb3b;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.5) rotate(0deg) translateX(0); opacity: 0; }
            20% { opacity: 0.8; }
            50% { transform: translateY(-50vh) scale(1) rotate(180deg) translateX(20px); }
            80% { opacity: 0.6; }
            100% { transform: translateY(-110vh) scale(1.5) rotate(360deg) translateX(-20px); opacity: 0; }
        }

        /* Click Ripple Hearts */
        .click-heart {
            position: absolute;
            font-size: 1.5rem;
            animation: popHeart 0.8s ease-out forwards;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
        }

        @keyframes popHeart {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }
            50% { transform: translate(-50%, -100%) scale(1.5); opacity: 0.8; }
            100% { transform: translate(-50%, -150%) scale(2); opacity: 0; }
        }

        /* Polaroid Gallery */
        .polaroid {
            background: white;
            padding: 10px 10px 25px 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            break-inside: avoid;
            margin-bottom: 20px;
        }
        .polaroid:hover {
            transform: scale(1.05) rotate(0deg) !important;
            box-shadow: 0 15px 30px rgba(255, 75, 114, 0.4);
            z-index: 20;
        }
        .polaroid-img {
            background: #ffe4e1;
            width: 100%;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            border: 1px solid #f0f0f0;
            overflow: hidden;
        }
        .polaroid-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Gradient Text */
        .text-gradient {
            background: linear-gradient(to right, #ff4b72, #ff7eb3, #ff4b72);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 3s linear infinite;
        }

        @keyframes shine {
            to { background-position: 200% center; }
        }

        /* Custom Timer Box */
        .timer-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 85px;
            height: 85px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: inset 0 0 10px rgba(255, 117, 140, 0.1), 0 5px 15px rgba(255, 75, 114, 0.15);
            margin: 0 10px;
            border: 2px solid #fff;
            position: relative;
            overflow: hidden;
        }

        /* Custom Input */
        .love-input {
            width: 100%;
            padding: 12px 20px;
            border-radius: 30px;
            border: 2px solid #ffd1dc;
            background: rgba(255, 255, 255, 0.9);
            outline: none;
            transition: all 0.3s;
            font-weight: 500;
            color: #ff4b72;
        }
        .love-input:focus {
            border-color: #ff4b72;
            box-shadow: 0 0 15px rgba(255, 75, 114, 0.2);
        }
        .love-input::placeholder {
            color: #ffa0b4;
        }

        /* Utilities */
        .hidden-section { display: none !important; }
        .fade-in { animation: fadeIn 0.8s forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    </style>
</head>
<body>

    <!-- ================= 1. LOGIN SECTION ================= -->
    <div id="login-section" class="min-h-screen flex items-center justify-center p-4 relative z-50">
        <div class="glass-panel p-8 md:p-12 rounded-[40px] max-w-md w-full text-center shadow-2xl relative">
            <div class="absolute -top-10 left-1/2 transform -translate-x-1/2 text-7xl pulse-heart drop-shadow-lg">
                üîê
            </div>
            
            <h1 class="font-romantic text-4xl font-bold text-pink-500 mt-6 mb-2">Ch√¨a Kh√≥a V√†o Tim</h1>
            <p class="text-gray-500 mb-8 text-sm">Vui l√≤ng nh·∫≠p m·∫≠t m√£ t√¨nh y√™u ƒë·ªÉ v√†o v∆∞∆°ng qu·ªëc c·ªßa Long & Th·∫£o</p>

            <div class="space-y-5">
                <div>
                    <input type="text" id="username" class="love-input" placeholder="T√†i kho·∫£n (G·ª£i √Ω: t√™n 2 ng∆∞·ªùi)" autocomplete="off">
                </div>
                <div>
                    <input type="password" id="password" class="love-input" placeholder="M·∫≠t kh·∫©u (G·ª£i √Ω: Ng√†y b·∫Øt ƒë·∫ßu)" autocomplete="off">
                </div>
                <div id="login-error" class="text-red-400 text-sm hidden font-medium">Sai m·∫≠t m√£ r·ªìi, th·ª≠ l·∫°i nha! ü•∫</div>
                
                <button onclick="handleLogin()" class="w-full mt-4 bg-gradient-to-r from-pink-400 to-pink-500 text-white font-bold py-3 px-8 rounded-full text-lg shadow-[0_5px_15px_rgba(255,105,180,0.4)] hover:scale-105 transition-transform duration-300">
                    M·ªü Kh√≥a Tr√°i Tim ‚ù§Ô∏è
                </button>
            </div>
        </div>
    </div>

    <!-- ================= 2. LOADING SECTION ================= -->
    <div id="loading-section" class="hidden-section min-h-screen flex flex-col items-center justify-center relative z-50 bg-[#fff0f5]">
        <div class="text-8xl connecting-pulse mb-8">üíñ</div>
        <h2 class="font-cute text-3xl md:text-4xl text-pink-500 text-blink tracking-wide">
            ƒêang k·∫øt n·ªëi v√†o tr√°i tim...
        </h2>
        <p class="mt-4 text-gray-500 italic">Chu·∫©n b·ªã b∆∞·ªõc v√†o th·∫ø gi·ªõi c·ªßa hai ƒë·ª©a</p>
    </div>

    <!-- ================= 3. MAIN APP SECTION ================= -->
    <div id="main-section" class="hidden-section relative">
        
        <!-- Background Animations Container -->
        <div id="bg-container" class="fixed inset-0 pointer-events-none z-0 overflow-hidden"></div>

        <!-- Main Content Wrapper -->
        <div class="relative z-10 fade-in">
            
            <!-- Hero Section -->
            <section class="min-h-screen flex flex-col items-center justify-center text-center p-4 relative pt-20">
                <div class="glass-panel p-8 md:p-16 rounded-[40px] max-w-4xl w-full mx-auto transform transition-all duration-700 hover:shadow-2xl">
                    <h1 class="font-cute text-5xl md:text-7xl mb-2 text-pink-500 drop-shadow-sm">H·ªì Th√°i Long</h1>
                    <div class="flex items-center justify-center space-x-4 my-6">
                        <div class="h-[2px] w-12 md:w-24 bg-pink-300"></div>
                        <div class="text-2xl md:text-3xl font-romantic text-gray-500 italic">ƒëang b√°m nhau v·ªõi</div>
                        <div class="h-[2px] w-12 md:w-24 bg-pink-300"></div>
                    </div>
                    <h1 class="font-cute text-5xl md:text-7xl mb-8 text-pink-500 drop-shadow-sm">ƒêo√†n Th·ªã Thanh Th·∫£o</h1>
                    <div class="text-6xl mb-6 pulse-heart filter drop-shadow-lg">üíû</div>
                    <p class="text-lg md:text-xl text-gray-700 mb-8 font-medium max-w-2xl mx-auto">
                        "Tr√°i ƒë·∫•t c√≥ h∆°n 8 t·ª∑ ng∆∞·ªùi, nh∆∞ng Long ch·ªâ mu·ªën b√°m l·∫•y m·ªói m√¨nh Th·∫£o th√¥i. K·ªÉ t·ª´ ng√†y 01/02/2026, th·∫ø gi·ªõi n√†y t·ª± nhi√™n l·∫°i ƒë·∫πp ƒë·∫Ω v√† r·ª±c r·ª° ƒë·∫øn l·∫°!"
                    </p>
                    <a href="#timer-section" class="inline-block bg-gradient-to-r from-pink-400 to-pink-500 text-white font-bold py-3 px-8 rounded-full text-lg shadow-lg hover:scale-105 transition-transform">
                        Xem Th·ªùi Gian B√°m Nhau üëá
                    </a>
                </div>
            </section>

            <!-- Timer Section -->
            <section id="timer-section" class="min-h-screen flex flex-col items-center justify-center p-6 relative">
                <div class="text-center mb-12">
                    <h2 class="font-romantic text-5xl md:text-6xl font-bold text-gradient mb-4">H√†nh Tr√¨nh G·∫Øn B√≥</h2>
                    <p class="text-gray-600 text-lg font-medium">B·∫Øt ƒë·∫ßu t·ª´ ng√†y 01 th√°ng 02 nƒÉm 2026</p>
                </div>
                <div class="flex flex-wrap justify-center gap-y-6 md:gap-y-0 z-10">
                    <div class="timer-box hover:-translate-y-2 transition-transform">
                        <span id="days" class="text-4xl font-bold text-pink-600">0</span>
                        <span class="text-xs text-gray-500 font-bold uppercase mt-1">Ng√†y</span>
                    </div>
                    <div class="timer-box hover:-translate-y-2 transition-transform">
                        <span id="hours" class="text-4xl font-bold text-pink-600">0</span>
                        <span class="text-xs text-gray-500 font-bold uppercase mt-1">Gi·ªù</span>
                    </div>
                    <div class="timer-box hover:-translate-y-2 transition-transform">
                        <span id="minutes" class="text-4xl font-bold text-pink-600">0</span>
                        <span class="text-xs text-gray-500 font-bold uppercase mt-1">Ph√∫t</span>
                    </div>
                    <div class="timer-box hover:-translate-y-2 transition-transform">
                        <span id="seconds" class="text-4xl font-bold text-pink-600">0</span>
                        <span class="text-xs text-gray-500 font-bold uppercase mt-1">Gi√¢y</span>
                    </div>
                </div>
                <div class="mt-12 bg-white/60 backdrop-blur px-8 py-4 rounded-full shadow-sm border border-white/80">
                    <p class="text-pink-500 font-medium text-lg italic text-center">
                        "T·ª´ng gi√¢y t·ª´ng ph√∫t tr√¥i qua, anh l·∫°i th·∫•y b√°m em th√™m m·ªôt ch√∫t."
                    </p>
                </div>
            </section>

            <!-- Polaroid Gallery (Upload Section) -->
            <section class="py-20 flex flex-col items-center justify-center p-6 bg-white/30 backdrop-blur-sm mt-10">
                <div class="text-center mb-10">
                    <h2 class="font-romantic text-4xl md:text-5xl font-bold text-gradient mb-4">G√≥c K·ª∑ Ni·ªám C·ªßa Ch√∫ng M√¨nh</h2>
                    <p class="text-gray-600 mb-6">H√£y th√™m nh·ªØng b·ª©c ·∫£nh ng·ªçt ng√†o nh·∫•t c·ªßa hai ƒë·ª©a v√†o ƒë√¢y nh√©!</p>
                    
                    <!-- Upload Button -->
                    <label for="photo-upload" class="cursor-pointer inline-flex items-center justify-center gap-2 bg-pink-100 hover:bg-pink-200 text-pink-600 font-bold py-3 px-6 rounded-full border-2 border-pink-300 shadow-sm transition-colors relative z-20">
                        üì∏ <span>Th√™m ·∫¢nh C·ªßa Ch√∫ng M√¨nh</span>
                    </label>
                    <input type="file" id="photo-upload" class="hidden" accept="image/*" multiple>
                </div>
                
                <!-- Gallery Grid -->
                <div id="polaroid-gallery" class="columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-6 max-w-6xl w-full px-4">
                    <!-- Default cards -->
                    <div class="polaroid transform -rotate-2">
                        <div class="polaroid-img text-pink-400">üë©‚Äç‚ù§Ô∏è‚Äçüë®</div>
                        <div class="mt-4 text-center font-cute text-xl text-gray-700">Ng√†y ƒë·∫ßu b√°m nhau</div>
                    </div>
                    <div class="polaroid transform rotate-3">
                        <div class="polaroid-img text-red-400">üíã</div>
                        <div class="mt-4 text-center font-cute text-xl text-gray-700">Y√™u th∆∞∆°ng ƒëong ƒë·∫ßy</div>
                    </div>
                </div>
            </section>

            <!-- Magic Candy -->
            <section class="min-h-[80vh] flex flex-col items-center justify-center p-6">
                <div class="glass-panel p-8 md:p-12 rounded-[40px] max-w-2xl w-full text-center relative overflow-hidden border-2 border-pink-100">
                    <h2 class="font-romantic text-4xl font-bold text-pink-500 mb-4">H·ªôp Qu√† B·∫•t Ng·ªù C·ªßa Th·∫£o</h2>
                    <p class="text-gray-600 mb-8 font-medium">Nh·∫•n v√†o vi√™n k·∫πo ƒë·ªÉ xem Long mu·ªën n√≥i g√¨ nh√©!</p>
                    
                    <button id="message-btn" class="text-7xl hover:scale-125 transition-transform duration-300 focus:outline-none mb-8 filter drop-shadow-xl relative z-20">üç¨</button>
                    
                    <div id="message-display" class="min-h-[120px] flex items-center justify-center bg-white/50 rounded-2xl p-4 border border-pink-50">
                        <p class="text-xl md:text-2xl font-romantic text-pink-600 leading-relaxed font-bold hidden transition-opacity duration-500"></p>
                    </div>
                </div>
            </section>

            <!-- The Letter -->
            <section class="py-20 flex flex-col items-center justify-center p-4 mb-10">
                <div class="bg-[#fdfbfb] p-8 md:p-16 rounded-sm shadow-2xl max-w-3xl w-full relative" style="box-shadow: 10px 10px 0px #ffd1dc, -5px -5px 20px rgba(0,0,0,0.05);">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 w-32 h-8 bg-white/40 backdrop-blur-md rotate-[-2deg] shadow-sm"></div>
                    
                    <h2 class="font-cute text-4xl text-center text-red-400 mb-8">L·ªùi H·ª©a C·ªßa Long</h2>
                    
                    <div class="text-gray-700 leading-loose text-lg text-justify font-medium space-y-4">
                        <p>G·ª≠i b√© Th·∫£o ƒë√°ng y√™u nh·∫•t qu·∫£ ƒë·∫•t,</p>
                        <p>Ng∆∞·ªùi ta n√≥i b·∫Øt ƒë·∫ßu m·ªôt m·ªëi quan h·ªá th√¨ d·ªÖ, nh∆∞ng gi·ªØ ƒë∆∞·ª£c nhau m·ªõi kh√≥. Nh∆∞ng t·ª´ c√°i ng√†y 01/02/2026 ·∫•y, anh ƒë√£ bi·∫øt m√¨nh ch·∫≥ng mu·ªën ƒëi ƒë√¢u t√¨m ki·∫øm n·ªØa, v√¨ anh ƒë√£ "b√°m" tr√∫ng b·∫øn ƒë·ªó b√¨nh y√™n nh·∫•t r·ªìi.</p>
                        <p>Anh h·ª©a s·∫Ω lu√¥n nh∆∞·ªùng nh·ªãn em (d√π ƒë√¥i khi em h∆°i ngang b∆∞·ªõng m·ªôt x√≠u), s·∫Ω lu√¥n n·∫Øm tay em qua nh·ªØng con ƒë∆∞·ªùng ƒë√¥ng ƒë√∫c, v√† s·∫Ω mua ƒë·ªì ƒÉn ngon cho em m·ªói khi em d·ªói.</p>
                        <p>C·∫£m ∆°n Th·∫£o v√¨ ƒë√£ cho Long c∆° h·ªôi ƒë∆∞·ª£c b∆∞·ªõc v√†o cu·ªôc s·ªëng c·ªßa em. H√£y ƒë·ªÉ anh ti·∫øp t·ª•c "b√°m" l·∫•y em kh√¥ng ch·ªâ b√¢y gi·ªù, m√† l√† r·∫•t, r·∫•t l√¢u v·ªÅ sau n·ªØa nh√©!</p>
                    </div>
                    
                    <div class="mt-12 text-right border-t border-dashed border-pink-200 pt-6">
                        <p class="text-gray-500 text-sm mb-2">Ng∆∞·ªùi t·ª± nguy·ªán b·ªã b√°m:</p>
                        <p class="font-cute text-3xl text-pink-500 transform -rotate-2">H·ªì Th√°i Long ‚ù§Ô∏è</p>
                    </div>
                </div>
            </section>

            <footer class="text-center py-8 text-pink-500 font-bold pb-12">
                <p>Trang web n√†y ƒë∆∞·ª£c t·∫°o ra b·∫±ng 100% t√¨nh y√™u c·ªßa Long d√†nh cho Th·∫£o ‚ú®</p>
            </footer>

        </div>
    </div>

    <script>
        // ================= 1. LOGIN LOGIC =================
        function handleLogin() {
            const user = document.getElementById('username').value.trim();
            const pass = document.getElementById('password').value.trim();
            const errorMsg = document.getElementById('login-error');

            if (user === 'longthao' && pass === '1thang2') {
                errorMsg.classList.add('hidden');
                
                // Transition to Loading
                document.getElementById('login-section').classList.add('hidden-section');
                document.getElementById('loading-section').classList.remove('hidden-section');

                // Wait 3 seconds, then show Main App
                setTimeout(() => {
                    document.getElementById('loading-section').classList.add('hidden-section');
                    document.getElementById('main-section').classList.remove('hidden-section');
                    initMainApp(); // Initialize animations and timer
                }, 3000);
            } else {
                errorMsg.classList.remove('hidden');
                // Shake effect on error
                const panel = document.querySelector('#login-section .glass-panel');
                panel.style.transform = 'translateX(-10px)';
                setTimeout(() => panel.style.transform = 'translateX(10px)', 100);
                setTimeout(() => panel.style.transform = 'translateX(-10px)', 200);
                setTimeout(() => panel.style.transform = 'translateX(0)', 300);
            }
        }

        // Allow pressing Enter to login
        document.getElementById('password').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') handleLogin();
        });


        // ================= 2. MAIN APP LOGIC =================
        let bgInterval;
        let timerInterval;

        function initMainApp() {
            // Background Generator
            const bgContainer = document.getElementById('bg-container');
            const bgItems = ['üíñ', 'üå∏', '‚ú®', 'firefly'];

            function createBgItem() {
                const el = document.createElement('div');
                el.classList.add('floating-item');
                const type = bgItems[Math.floor(Math.random() * bgItems.length)];
                
                if (type === 'firefly') el.classList.add('firefly');
                else {
                    el.innerText = type;
                    el.style.fontSize = `${1 + Math.random() * 1.5}rem`;
                }
                el.style.left = `${Math.random() * 100}vw`;
                const duration = 6 + Math.random() * 8;
                el.style.animationDuration = `${duration}s`;
                bgContainer.appendChild(el);
                setTimeout(() => { el.remove(); }, duration * 1000);
            }
            bgInterval = setInterval(createBgItem, 300);

            // Timer (Feb 1, 2026)
            const startDate = new Date(2026, 1, 1, 0, 0, 0).getTime();
            function updateTimer() {
                const now = new Date().getTime();
                const difference = now - startDate;
                if (difference < 0) {
                    document.getElementById('days').innerText = "0"; return;
                }
                document.getElementById('days').innerText = Math.floor(difference / (1000 * 60 * 60 * 24));
                document.getElementById('hours').innerText = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
                document.getElementById('minutes').innerText = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
                document.getElementById('seconds').innerText = Math.floor((difference % (1000 * 60)) / 1000).toString().padStart(2, '0');
            }
            timerInterval = setInterval(updateTimer, 1000);
            updateTimer();
        }

        // Click Ripple Effect (Global but avoids inputs/buttons)
        document.body.addEventListener('click', function(e) {
            if(e.target.tagName === 'INPUT' || e.target.tagName === 'BUTTON' || e.target.tagName === 'LABEL' || e.target.closest('button') || e.target.closest('label')) return;

            const heart = document.createElement('div');
            heart.classList.add('click-heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = `${e.pageX}px`;
            heart.style.top = `${e.pageY}px`;
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 800);
        });

        // Photo Upload Logic
        const uploadInput = document.getElementById('photo-upload');
        const gallery = document.getElementById('polaroid-gallery');
        const captions = ["Kho·∫£nh kh·∫Øc xinh ƒë·∫πp", "Hai ƒë·ª©a m√¨nh n√®", "Y√™u Th·∫£o nh·∫•t", "B√°m nhau m√£i nh√©", "K·ª∑ ni·ªám ƒë√°ng nh·ªõ"];

        uploadInput.addEventListener('change', function(e) {
            const files = e.target.files;
            
            for(let i = 0; i < files.length; i++) {
                const file = files[i];
                if (!file.type.startsWith('image/')){ continue } // Skip non-images
                
                const reader = new FileReader();
                reader.onload = function(event) {
                    const imgUrl = event.target.result;
                    const randomRotation = (Math.random() > 0.5 ? '' : '-') + Math.floor(Math.random() * 4);
                    const randomCaption = captions[Math.floor(Math.random() * captions.length)];
                    
                    const newPolaroid = document.createElement('div');
                    newPolaroid.className = `polaroid transform rotate-${Math.abs(randomRotation)} ${randomRotation.includes('-') ? '-rotate-'+Math.abs(randomRotation) : ''} fade-in`;
                    
                    newPolaroid.innerHTML = `
                        <div class="polaroid-img">
                            <img src="${imgUrl}" alt="K·ª∑ ni·ªám Long Th·∫£o">
                        </div>
                        <div class="mt-4 text-center font-cute text-xl text-gray-700">${randomCaption} üíï</div>
                    `;
                    
                    // Th√™m ·∫£nh m·ªõi l√™n ƒê·∫¶U danh s√°ch gallery
                    gallery.prepend(newPolaroid);
                };
                reader.readAsDataURL(file);
            }
            // Reset input ƒë·ªÉ c√≥ th·ªÉ ch·ªçn l·∫°i ·∫£nh gi·ªëng nhau
            uploadInput.value = '';
        });

        // Candy Message Logic
        const messages = [
            "Th·∫£o ∆°i, h√¥m nay em tr√¥ng xinh x·ªâu lu√¥n ƒë√≥! üòç",
            "Long h·ª©a s·∫Ω ngoan, ch·ªâ b√°m m·ªói Th·∫£o th√¥i! ü•∫",
            "M·ªói l·∫ßn th·∫•y Th·∫£o c∆∞·ªùi l√† tim Long l·∫°i l·ª° m·∫•t m·ªôt nh·ªãp. üíì",
            "Tr√† s·ªØa c√≥ th·ªÉ thi·∫øu tr√¢n ch√¢u, nh∆∞ng Long kh√¥ng th·ªÉ thi·∫øu Th·∫£o! üßã",
            "N·∫Øm tay Th·∫£o ƒëi d·∫°o l√† ƒëi·ªÅu b√¨nh y√™n nh·∫•t trong ng√†y c·ªßa Long. ü§ù",
            "D√π em c√≥ b√©o l√™n hay g·∫ßy ƒëi, trong m·∫Øt Long em v·∫´n l√† c√¥ng ch√∫a. üëë"
        ];
        const messageBtn = document.getElementById('message-btn');
        const messageDisplay = document.querySelector('#message-display p');
        let isAnimating = false;

        messageBtn.addEventListener('click', () => {
            if (isAnimating) return;
            isAnimating = true;
            messageBtn.innerText = 'üéÅ';
            messageBtn.classList.add('pulse-heart');
            messageDisplay.style.opacity = 0;

            setTimeout(() => {
                messageDisplay.innerText = messages[Math.floor(Math.random() * messages.length)];
                messageDisplay.classList.remove('hidden');
                messageDisplay.style.opacity = 1;
                messageBtn.innerText = 'üç¨';
                messageBtn.classList.remove('pulse-heart');
                isAnimating = false;
            }, 600);
        });
    </script>
</body>
</html>

